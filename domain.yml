version: "3.1"

intents:
  - greet
  - goodbye
  - search_product
  - add_to_cart
  - view_cart
  - checkout
  - show_product_detail
  - product_detail
  - ask_product_details
  - specify_category
  - send_budget
  - search_collection
  - produits
  - clients
  - nlu_fallback
  - out_of_scope
  - restart
  - back
  - session_start

entities:
  - product_name
  - product_id
  - category
  - budget
  - quantity

slots:
  product_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: product_name

  product_id:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: product_id

  category:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: category

  budget:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: budget

  quantity:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: quantity

  order_id:
    type: text
    influence_conversation: false
    mappings:
      - type: custom

responses:
  utter_greet:
    - text: "Bonjour ! ðŸ‘‹ Bienvenue sur Jungle Marketplace. Comment puis-je vous aider aujourd'hui ?"
  
  utter_goodbye:
    - text: "Au revoir ! ðŸ‘‹ Ã€ bientÃ´t sur Jungle !"
  
  utter_ask_product_name:
    - text: "ðŸ”Ž Quel produit recherchez-vous ?"
  
  utter_ask_category:
    - text: "ðŸ“‚ Quelle catÃ©gorie vous intÃ©resse ? (Ex: vÃªtements, Ã©lectronique, maison...)"
  
  utter_ask_budget:
    - text: "ðŸ’° Quel est votre budget maximum en FCFA ?"

  utter_search_product:
    - text: "*{product_name}*\nPrix: {price} FCFA\n{description}"
      image: "{image_url}"
      buttons:
        - title: "âž• Ajouter au panier"
          payload: "/add_to_cart{{\"product_id\":\"{product_id}\"}}"
        - title: "ðŸ‘€ Voir dÃ©tails"
          payload: "/show_product_detail{{\"product_id\":\"{product_id}\"}}"
      button_type: vertical


actions:
  - action_search_product_by_name
 # - action_search_product_by_budget
  - action_search_product_by_category
  - action_add_to_cart
 # - action_show_cart
  - action_checkout
  - action_show_product_detail

